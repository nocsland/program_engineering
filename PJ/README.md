# Приложение для генерации краткого содержания введенного текста

## Краткое описание приложения:

Приложение генерирует краткое содержание введенного текста, используя фреймворк `Streamlit` и
предварительно обученную модель. Краткость содержания текста регулируется механизмом выбора значения (ползунком), который регулирует степень сжатия текста, 
где 10 - это максимальная степень сжатия, а 100 - это минимальная степень сжатия (развернутый ответ).

## Краткое описание модели:

Используемая модель: https://huggingface.co/csebuetnlp/mT5_multilingual_XLSum

Модель предварительно обучена на наборе данных XL-Sum и настроена на работу с 45 языками.
Список языков:
Амхарский, Арабский, Азербайджанский, Бенгальский, Бирманский, Китайский (упрощенный), Китайский (традиционный), Английский, Французский, Гуджарати, Хауса, 
Хинди, Игбо, Индонезийский, Японский, Кирунди, Корейский, Кыргызский, Маратхи, Непальский, Оромо, Пашто, Персидский, Пиджин, Португальский, Пенджаби, Русский, 
Шотландский гэльский, Сербский (кириллица), Сербский (латиница), Сингальский, Сомалийский, Испанский, Суахили, Тамильский, Телугу, Тайский, Тигринья, Турецкий, 
Украинский, Урду, Узбекский, Вьетнамский, Валлийский, Йоруба.

---

## Работа с приложением

### **Онлайн**:

1. Перейти по URL http://91.185.85.43:8501/;
2. Выбрать один из двух возможных вариантов: «Ввод текста» или «Загрузка файла», и нажать кнопку «Создать»;
3. Получить краткое содержание введённого текста.

### **Локально**:

1. Создать виртуальное окружение:

```console
    python3 -m venv venv
```

2. Активировать виртуальное окружение:

```console
    source venv/bin/activate
```

3. Установить зависимости из файла requirements.txt из директории `program_engineering/PJ`:

    3.1 Перейти в `program_engineering/PJ`
    
    ```console
        cd program_engineering/PJ
    ```

    3.2 Выполнить команду

    ```console
        pip install -r requirements.txt
    ```

4. Запустить приложение:

    4.1 Перейти в `program_engineering/PJ/summary_text`

    ```console
        cd program_engineering/PJ/summary_text
    ```

    4.2 Запустить непосредственно приложение:

    ```console
        streamlit run summary_text.py
    ```
Для удобства развертывания и администрирования приложения на сервере, добавлен скрипт run_app.sh, который при запуске
проверит активировано ли виртуальное окружение, в случае необходимости, создаст его и установит зависимости, а также
запустит само приложение. При использовании скрипта шаги 1-3 из описания выше необходимо пропустить. Запускать скрипт
необходимо из каталога, где находится скрипт (scripts) командой:

```
    ./run_app.sh
```

5. Дальнейшая работа с приложением локально аналогична работе онлайн.

## Необходимые зависимости:

```
    streamlit
    transformers[torch, sentencepiece]
    flake8
    chardet
```

## Форма ответа:

```
Результат:

<краткое содержание введенного текста>
```

## Утилиты для анализа кода:

### flake8

Утилита-комбайн, которая органично объединяет в себе несколько других анализаторов кода (pycodestyle, pyflakes и McCabe), а также имеет огромную экосистему плагинов, которые могут добавить к стандартной поставке ещё кучу различных проверок. На данный момент, это самый популярный линтер для Python-кода.

Данный инструмент, позволяет просканировать код проекта и обнаружить в нем стилистические ошибки и нарушения различных конвенций кода на 
Python.

В данном проекте используется через git hub actions. Линтинг настроен на действия push и pull request в вестку master. Так же можно запустить локально через команду:

```
    flake8 PJ --count --select=E9,F63,F7,F82 --show-source --statistics
    flake8 PJ --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
```

---

## Команда проекта

- Власов А. А.
- Дубовик А. А.
- Тимофеев Е. Н.
- Фролов М. В.
- Запатоцкий Ю. М.
- Сопилова Н. В.
